## Описание

Клиент-серверное решение для конкурентного назначения заказов курьерам, под термином конкурентное назначение заказов в рамках данного решения понимается такой способ назначения заказа, при котором отправка предложений курьерам в определенном от пункта выдачи радиусе, происходит одновременно. В таком случае, заказ назначается тому курьеру, чей ответ обработался на сервере первым. Если системе не удается назначить заказ, то отправляется уведомление оператору с просьбой назначить заказ вручную.

## Стек технологий

- Языки программирования: C# + js
- UI фреймворк для клиента: Blazor web assembly
- Сервер: ASP.NET web api
- ORM: Entity Framework
- СУБД: PostgreSQL
- MediatR 
- Ardalis.ApiEndpoints
- FluentValidation для валидации полей в форме
- SignalR для переодической передачи геопозиции курьера на сервер

Также используются внешние сервисы: Auth0 (аутентификация, авторизация, ролевая модель), Firebase cloud messaging (уведомления), OSRM API (вычисление кратчайшего пути между двумя точками)

## Архитектура

![image](https://github.com/user-attachments/assets/25a316cd-4019-4895-b94a-7ce4d952889f)

## Требования перед запуском приложения

- Для работы приложения необходимо наличие СУБД PostgreSQL версии ≥ 13
- ≥ .NET 7, .NET CLI (для Linux)
- Не менее 45 МБ свободного места на диске
- Настроить данные для подключения к БД: в файле appsettings.json настроить ConnectionStrings, указав собственные данные

## Инструкция по запуску приложения

После скачивания и распаковки архива на своем ПК, необходимо перейти в директорию CompetitiveOrderingPlatform. В этой директории необходимо найти файл appsettings.json, настроить ConnectionStrings, указав собственные данные и запустить исполняемый файл OrdersWebApi.exe. В случае, если платформа запускается на ОС семейства Linux, то необходимо в консоли выполнить команду `dotnet <путь до OrdersWebApi.exe>` Если в PostgreSQL отсутствует БД, то при первом запуске программы начнется ее создание.(Это может занять некоторое время). Затем запустится локальный сервер, веб-приложение станет доступно по порту 7234(HTTPS). 

Для доступа к функционалу платформы необходимо аутентифицироваться, перечень доступных аккаунтов:
- Оператор

логин: test@gmail.com

пароль: Qwerty_123

- Курьер 1

логин: qwerty@gmail.com

пароль: Qwerty_123

- Курьер 2

логин: ivanov@gmail.com

пароль: Qwerty_123

**ВАЖНО**

При первом запуске API (OrdersWebApi.exe) выполнится создание и настройка БД, поэтому необходимо проверить корректность данных подключения к серверу СУБД, указанных в файле appsettings.json
